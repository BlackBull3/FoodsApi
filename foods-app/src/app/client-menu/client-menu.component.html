<!-- client-menu.component.html -->
<mat-tab-group [(selectedIndex)]="activeTab">
    <mat-tab label="Menu">
      @if (isLoading) {
        <mat-spinner class="spinner"></mat-spinner>
      } @else {
        <div class="menu-grid">
          @for (meal of meals; track meal.id) {
            <mat-card class="meal-card">
              <mat-card-header>
                <mat-card-title>{{ meal.name }}</mat-card-title>
              </mat-card-header>
              <mat-card-content>
                <mat-list dense>
                  @for (ingredient of meal.ingredients; track ingredient.id) {
                    <mat-list-item>
                      <mat-icon matListItemIcon>local_dining</mat-icon>
                      <div matListItemTitle>{{ ingredient.name }}</div>
                    </mat-list-item>
                  }
                </mat-list>
              </mat-card-content>
              <mat-card-actions>
                <button mat-raised-button color="primary" (click)="placeOrder(meal.id)">
                  Order Now
                </button>
              </mat-card-actions>
            </mat-card>
          }
        </div>
      }
    </mat-tab>
  
    <!-- Add this to your existing template -->
<mat-tab label="My Orders">
  @if (isLoadingOrders) {
    <mat-spinner class="spinner"></mat-spinner>
  } @else if (orders.length === 0) {
    <div class="empty-state">
      <mat-icon>fastfood</mat-icon>
      <p>No orders yet</p>
    </div>
  } @else {
    <div class="orders-list">
      @for (order of orders; track order.id) {
        <mat-card class="order-card">
          <mat-card-header>
            <mat-card-title>Order #{{ order.id }}</mat-card-title>
            <mat-card-subtitle>
              {{ order.createdAt | date:'medium' }}
            </mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <h3>{{ order.meal.name }}</h3>
            <p>Status: {{ order.status }}</p>
          </mat-card-content>
        </mat-card>
      }
    </div>
  }
</mat-tab>
    <mat-tab label="Feedback">
      <mat-card class="feedback-card">
        <mat-card-header>
          <mat-card-title>Share Your Feedback</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Your feedback</mat-label>
            <textarea matInput [(ngModel)]="feedbackMessage" rows="5"></textarea>
          </mat-form-field>
        </mat-card-content>
        <mat-card-actions>
          <button 
            mat-raised-button 
            color="primary" 
            (click)="submitFeedback()"
            [disabled]="!feedbackMessage.trim()">
            Submit Feedback
          </button>
        </mat-card-actions>
      </mat-card>
    </mat-tab>
  </mat-tab-group>